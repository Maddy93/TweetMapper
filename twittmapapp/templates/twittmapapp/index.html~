<!DOCTYPE html>
<html> 
<head> 
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" /> 
  <title>Google Maps Multiple Markers</title> 
  <script src="http://maps.google.com/maps/api/js?key=AIzaSyDY0kkJiTPVd2U7aTOAwhc9ySH6oHxOIYM&sensor=false" 
          type="text/javascript"></script>
  <script type="text/javascript">
        function newmap(){
            document.catForm.action = "/twittmapapp/";
            document.catForm.submit();
        }
  </script>
</head> 
<body>
  <form id = "catForm" name = "catForm" action = "/twittmapapp" method = "get">
    <select id="catSelect" name="catSelect" onchange="this.form.submit()">
    <option value="halloween">halloween</option>
    <option value="google">google</option>
    <option value="ebola">ebola</option>
    <option value="obama">obama</option>
    </select>
  </form>
  <div id="map" style="width: 1000px; height: 800px;"></div>

  <script type="text/javascript">
    var locations = new Array();
    {% if tweet_list %}
        {% for tweet in tweet_list %}
            latlong = new Array();
            latlong.push({{ tweet.latitude }}, {{ tweet.longitude }});
            locations.push(latlong);
        {% endfor %}
    {% endif %} 

    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 1,
      center: new google.maps.LatLng(-33.92, 151.25),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });

    var infowindow = new google.maps.InfoWindow();

    var marker, i;

    for (i = 0; i < locations.length; i++) {  
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(locations[i][0], locations[i][1]),
        map: map
      });

    }
  </script>
</body>
</html>
